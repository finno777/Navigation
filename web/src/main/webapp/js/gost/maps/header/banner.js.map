/* This file is generated â€” do not edit by hand! */
/* eslint-disable */
{"version":3,"sources":["header/banner.js"],"names":["initializeHamburger","$hamburgerButton","$","on","$menu","slideToggle","toggleClass","initializeDropdowns","document","currentVisibility","e","currentTarget","parent","hasClass","removeClass","addClass","$dropdown","is","ev","target","has","length","preLogOut","Promise","resolve","reject","ajax","headers","headerConstants","adminsHeaders","type","url","Date","success","data","error","err","initializeLogoutButton","preventDefault","then","eXo","portal","logout","console","initializeSearchInput","$header","$btnClose","$overlay","appendTo","window","width","show","hide"],"mappings":";;AAAA;;AAEA,SAASA,mBAAT,GAA+B;AAC3B,QAAMC,mBAAmBC,EAAE,YAAF,CAAzB;AACAD,qBAAiBE,EAAjB,CAAoB,OAApB,EAA6B,YAAM;AAC/B,YAAMC,QAAQF,EAAE,iBAAF,CAAd;AACAE,cAAMC,WAAN;AACAH,UAAE,cAAF,EAAkBI,WAAlB,CAA8B,MAA9B;AACH,KAJD;AAKH;;AAED,SAASC,mBAAT,GAA+B;AAC3BL,MAAEM,QAAF,EAAYL,EAAZ,CAAe,OAAf,EAAwB,gCAAxB,EAA0D,aAAK;AAC3D,YAAMM,oBAAoBP,EAAEQ,EAAEC,aAAJ,EAAmBC,MAAnB,CAA0B,WAA1B,EAAuCC,QAAvC,CAAgD,QAAhD,CAA1B;AACAX,UAAE,WAAF,EAAeY,WAAf,CAA2B,QAA3B;;AAEA,YAAI,CAACL,iBAAL,EAAwB;AACpBP,cAAEQ,EAAEC,aAAJ,EAAmBC,MAAnB,CAA0B,WAA1B,EAAuCG,QAAvC,CAAgD,QAAhD;AACH;AACJ,KAPD;;AASAb,MAAEM,QAAF,EAAYL,EAAZ,CAAe,SAAf,EAA0B,cAAM;AAC5B,YAAMa,YAAYd,EAAE,wBAAF,CAAlB;AACA,YAAI,CAACc,UAAUC,EAAV,CAAaC,GAAGC,MAAhB,CAAD,IAA4BH,UAAUI,GAAV,CAAcF,GAAGC,MAAjB,EAAyBE,MAAzB,KAAoC,CAApE,EAAuE;AACnEL,sBAAUF,WAAV,CAAsB,QAAtB;AACH;AACJ,KALD;AAMH;;AAED,SAASQ,SAAT,GAAqB;AACjB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCvB,UAAEwB,IAAF,CAAO;AACHC,qBAASC,gBAAgBC,aADtB;AAEHC,kBAAM,KAFH;AAGHC,gEAAkD,IAAIC,IAAJ,EAH/C;AAIHC,qBAAS,uBAAQ;AACbT,wBAAQU,IAAR;AACH,aANE;AAOHC,mBAAO,oBAAO;AACVV,uBAAOW,GAAP;AACH;AATE,SAAP;AAWH,KAZM,CAAP;AAaH;;AAED,SAASC,sBAAT,GAAkC;AAC9BnC,MAAE,SAAF,EAAaC,EAAb,CAAgB,OAAhB,EAAyB,cAAM;AAC3Be,WAAGoB,cAAH;AACAhB,oBACKiB,IADL,CAEQ,YAAM;AACFC,gBAAIC,MAAJ,CAAWC,MAAX;AACH,SAJT,EAKQ,eAAO;AACHC,oBAAQR,KAAR,CAAcC,GAAd;AACH,SAPT;AAQH,KAVD;AAWH;;AAED,SAASQ,qBAAT,GAAiC;AAC7B,QAAMC,UAAU3C,EAAE,cAAF,CAAhB;AACA,QAAM4C,YAAY5C,EAAE,uBAAF,CAAlB;AACA,QAAM6C,WAAW7C,EAAE,QAAF,EAAYa,QAAZ,CAAqB,YAArB,EAAmCiC,QAAnC,CAA4CH,OAA5C,CAAjB;;AAEA3C,MAAE,MAAF,EAAUC,EAAV,CAAa,OAAb,EAAsB,qBAAtB,EAA6C,aAAK;AAC9CO,UAAE4B,cAAF;AACA,YAAIpC,EAAE+C,MAAF,EAAUC,KAAV,MAAqB,GAAzB,EAA8B;AAC1BL,oBAAQ9B,QAAR,CAAiB,0BAAjB;AACAgC,qBAASI,IAAT;AACH;;AAED,eAAO,KAAP;AACH,KARD;;AAUAJ,aAAS5C,EAAT,CAAY,OAAZ,EAAqB,YAAM;AACvB0C,gBAAQ/B,WAAR,CAAoB,0BAApB;AACAiC,iBAASK,IAAT;AACH,KAHD;;AAKAN,cAAU3C,EAAV,CAAa,OAAb,EAAsB,aAAK;AACvBO,UAAE4B,cAAF;AACAO,gBAAQ/B,WAAR,CAAoB,0BAApB;AACAiC,iBAASK,IAAT;AACH,KAJD;AAKH;;AAED7C;AACA8B;AACArC;AACA4C","file":"../../header/banner.js","sourcesContent":["/* global $, eXo, headerConstants */\r\n\r\nfunction initializeHamburger() {\r\n    const $hamburgerButton = $('.hamburger');\r\n    $hamburgerButton.on('click', () => {\r\n        const $menu = $('.nav-menu__wrap');\r\n        $menu.slideToggle();\r\n        $('.main-header').toggleClass('open');\r\n    });\r\n}\r\n\r\nfunction initializeDropdowns() {\r\n    $(document).on('click', '.main-banner .dropdown__button', e => {\r\n        const currentVisibility = $(e.currentTarget).parent('.dropdown').hasClass('active');\r\n        $('.dropdown').removeClass('active');\r\n\r\n        if (!currentVisibility) {\r\n            $(e.currentTarget).parent('.dropdown').addClass('active');\r\n        }\r\n    });\r\n\r\n    $(document).on('mouseup', ev => {\r\n        const $dropdown = $('.main-banner .dropdown');\r\n        if (!$dropdown.is(ev.target) && $dropdown.has(ev.target).length === 0) {\r\n            $dropdown.removeClass('active');\r\n        }\r\n    });\r\n}\r\n\r\nfunction preLogOut() {\r\n    return new Promise((resolve, reject) => {\r\n        $.ajax({\r\n            headers: headerConstants.adminsHeaders,\r\n            type: 'GET',\r\n            url: `/navigationRST/commons/logoutSSO.action?v=${new Date()}`,\r\n            success: data => {\r\n                resolve(data);\r\n            },\r\n            error: err => {\r\n                reject(err);\r\n            },\r\n        });\r\n    });\r\n}\r\n\r\nfunction initializeLogoutButton() {\r\n    $('#logout').on('click', ev => {\r\n        ev.preventDefault();\r\n        preLogOut()\r\n            .then(\r\n                () => {\r\n                    eXo.portal.logout();\r\n                },\r\n                err => {\r\n                    console.error(err);\r\n                });\r\n    });\r\n}\r\n\r\nfunction initializeSearchInput() {\r\n    const $header = $('.main-header');\r\n    const $btnClose = $('.js-head-search-close');\r\n    const $overlay = $('<div/>').addClass('overlay-bg').appendTo($header);\r\n\r\n    $('body').on('click', '.js-head-search-btn', e => {\r\n        e.preventDefault();\r\n        if ($(window).width() >= 800) {\r\n            $header.addClass('main-header--open-search');\r\n            $overlay.show();\r\n        }\r\n\r\n        return false;\r\n    });\r\n\r\n    $overlay.on('click', () => {\r\n        $header.removeClass('main-header--open-search');\r\n        $overlay.hide();\r\n    });\r\n\r\n    $btnClose.on('click', e => {\r\n        e.preventDefault();\r\n        $header.removeClass('main-header--open-search');\r\n        $overlay.hide();\r\n    });\r\n}\r\n\r\ninitializeDropdowns();\r\ninitializeLogoutButton();\r\ninitializeHamburger();\r\ninitializeSearchInput();\r\n"]}