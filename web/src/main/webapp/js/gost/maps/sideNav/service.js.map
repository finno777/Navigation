/* This file is generated â€” do not edit by hand! */
/* eslint-disable */
{"version":3,"sources":["sideNav/service.js"],"names":["initializeDropdowns","$","document","on","currentVisibility","parent","hasClass","removeClass","$dropdown","addClass","$dropdownMenu","siblings","buttonOffset","getBoundingClientRect","css","top","window","width","right","is","e","target","has","length","initializeSelects","selectmenu","initializeSwitcher","change","value","show","hide","init","sideNav","service","cr","pages","nodeId","pageType","uri","save","Promise","resolve","reject","ajax","headers","adminsHeaders","dataType","type","url","data","JSON","stringify","success","error","err"],"mappings":";;AAAA;;AAEA,SAASA,mBAAT,GAA+B;AAC3BC,MAAEC,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,6BAAxB,EAAuD,YAAY;AAC/D,YAAMC,oBAAoBH,EAAE,IAAF,EAAQI,MAAR,CAAe,WAAf,EAA4BC,QAA5B,CAAqC,QAArC,CAA1B;AACAL,UAAE,WAAF,EAAeM,WAAf,CAA2B,QAA3B;AACA,YAAI,CAACH,iBAAL,EAAwB;AACpB,gBAAMI,YAAYP,EAAE,IAAF,EAAQI,MAAR,CAAe,WAAf,CAAlB;AACAG,sBAAUC,QAAV,CAAmB,QAAnB;AACA,gBAAID,UAAUF,QAAV,CAAmB,iBAAnB,CAAJ,EAA2C;AACvC,oBAAMI,gBAAgBT,EAAE,IAAF,EAAQU,QAAR,CAAiB,iBAAjB,CAAtB;AACA,oBAAMC,eAAe,KAAKC,qBAAL,EAArB;AACAH,8BAAcI,GAAd,CAAkB,KAAlB,EAA4BF,aAAaG,GAAzC;AACAL,8BAAcI,GAAd,CAAkB,OAAlB,EAA8Bb,EAAEe,MAAF,EAAUC,KAAV,KAAoBL,aAAaM,KAA/D;AACH;AACJ;AACJ,KAbD;AAcAjB,MAAEC,QAAF,EAAYC,EAAZ,CAAe,SAAf,EAA0B,aAAK;AAC3B,YAAMK,YAAYP,EAAE,qBAAF,CAAlB;AACA,YAAI,CAACO,UAAUW,EAAV,CAAaC,EAAEC,MAAf,CAAD,IAA2Bb,UAAUc,GAAV,CAAcF,EAAEC,MAAhB,EAAwBE,MAAxB,KAAmC,CAAlE,EAAqE;AACjEf,sBAAUD,WAAV,CAAsB,QAAtB;AACH;AACJ,KALD;AAMAN,MAAEe,MAAF,EAAUb,EAAV,CAAa,iCAAb,EAAgD,YAAY;AACxD,YAAMK,YAAYP,EAAE,4BAAF,CAAlB;AACAO,kBAAUD,WAAV,CAAsB,QAAtB;AACH,KAHD;AAIH;;AAED,SAASiB,iBAAT,GAA6B;AACzBvB,MAAE,cAAF,EAAkBwB,UAAlB;AACH;;AAED,SAASC,kBAAT,GAA8B;AAC1BzB,MAAE,wCAAF,EAA4C0B,MAA5C,CAAmD,YAAY;AAC3D,YAAI,KAAKC,KAAL,KAAe,OAAnB,EAA4B;AACxB3B,cAAE,uBAAF,EAA2B4B,IAA3B;AACA5B,cAAE,wBAAF,EAA4B6B,IAA5B;AACH,SAHD,MAGO;AACH7B,cAAE,wBAAF,EAA4B4B,IAA5B;AACA5B,cAAE,uBAAF,EAA2B6B,IAA3B;AACH;AACJ,KARD;AASH;;AAED,SAASC,IAAT,GAAgB;AACZ/B;AACAwB;AACAE;AACH;;AAEDzB,EAAE8B,IAAF;;AAEAC,QAAQC,OAAR,GAAmB,YAAY;AAC3B,QAAMC,KAAKF,QAAQE,EAAnB;;AAEA,QAAMC,QAAQ,CACV;AACIC,gBAAQ,CADZ;AAEIC,kBAAU,CAFd;AAGIC,aAAK;AAHT,KADU,EAKP;AACCF,gBAAQ,CADT;AAECC,kBAAU,CAFX;AAGCC,aAAK;AAHN,KALO,CAAd;;AAYA,aAASC,IAAT,GAAgB;AACZ,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCzC,cAAE0C,IAAF,CAAO;AACHC,yBAASZ,QAAQa,aADd;AAEHC,0BAAU,MAFP;AAGHC,sBAAM,MAHH;AAIHC,qBAAQd,EAAR,qBAJG;AAKHe,sBAAMC,KAAKC,SAAL,CAAehB,KAAf,CALH;AAMHiB,yBAAS,uBAAQ;AACbX,4BAAQQ,IAAR;AACH,iBARE;AASHI,uBAAO,oBAAO;AACVX,2BAAOY,GAAP;AACH;AAXE,aAAP;AAaH,SAdM,CAAP;AAeH;;AAED,WAAO;AACHf;AADG,KAAP;AAGH,CApCkB,EAAnB","file":"../../sideNav/service.js","sourcesContent":["/* global $, sideNav */\r\n\r\nfunction initializeDropdowns() {\r\n    $(document).on('click', '.side-nav .dropdown__button', function () {\r\n        const currentVisibility = $(this).parent('.dropdown').hasClass('active');\r\n        $('.dropdown').removeClass('active');\r\n        if (!currentVisibility) {\r\n            const $dropdown = $(this).parent('.dropdown');\r\n            $dropdown.addClass('active');\r\n            if ($dropdown.hasClass('dropdown--fixed')) {\r\n                const $dropdownMenu = $(this).siblings('.dropdown__menu');\r\n                const buttonOffset = this.getBoundingClientRect();\r\n                $dropdownMenu.css('top', `${buttonOffset.top}px`);\r\n                $dropdownMenu.css('right', `${$(window).width() - buttonOffset.right}px`);\r\n            }\r\n        }\r\n    });\r\n    $(document).on('mouseup', e => {\r\n        const $dropdown = $('.side-nav .dropdown');\r\n        if (!$dropdown.is(e.target) && $dropdown.has(e.target).length === 0) {\r\n            $dropdown.removeClass('active');\r\n        }\r\n    });\r\n    $(window).on('scroll resize orientationchange', function () {\r\n        const $dropdown = $('.side-nav .dropdown--fixed');\r\n        $dropdown.removeClass('active');\r\n    });\r\n}\r\n\r\nfunction initializeSelects() {\r\n    $('#pagesToShow').selectmenu();\r\n}\r\n\r\nfunction initializeSwitcher() {\r\n    $('.side-nav input[type=radio][name=type]').change(function () {\r\n        if (this.value === 'links') {\r\n            $('#sideNavSettingsLinks').show();\r\n            $('#sideNavSettingsGroups').hide();\r\n        } else {\r\n            $('#sideNavSettingsGroups').show();\r\n            $('#sideNavSettingsLinks').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction init() {\r\n    initializeDropdowns();\r\n    initializeSelects();\r\n    initializeSwitcher();\r\n}\r\n\r\n$(init);\r\n\r\nsideNav.service = (function () {\r\n    const cr = sideNav.cr;\r\n\r\n    const pages = [\r\n        {\r\n            nodeId: 1,\r\n            pageType: 1,\r\n            uri: 'uri',\r\n        }, {\r\n            nodeId: 2,\r\n            pageType: 2,\r\n            uri: 'uri2',\r\n        },\r\n    ];\r\n\r\n    function save() {\r\n        return new Promise((resolve, reject) => {\r\n            $.ajax({\r\n                headers: sideNav.adminsHeaders,\r\n                dataType: 'json',\r\n                type: 'POST',\r\n                url: `${cr}/navigation/save`,\r\n                data: JSON.stringify(pages),\r\n                success: data => {\r\n                    resolve(data);\r\n                },\r\n                error: err => {\r\n                    reject(err);\r\n                },\r\n            });\r\n        });\r\n    }\r\n\r\n    return {\r\n        save,\r\n    };\r\n}());\r\n"]}