/* This file is generated — do not edit by hand! */
/* eslint-disable */
{"version":3,"sources":["sideNav/add-internal-page.js"],"names":["AddInternalPage","$elem","that","gostValidation","window","$siteMap","find","$pageName","$pageDesc","$pageSelect","$pageImg","$pageImgPlaceholder","$pageImgSelect","siteMapList","siteMapItem","sideNav","closest","attr","savedInternalPage","savedPages","savedPlainPages","savedUri","savedNodeId","savedPageName","savedImage","renderPages","container","pages","listTemplate","$","clone","forEach","renderPage","page","append","itemTempalte","text","displayName","on","selectPage","length","addClass","uri","nodeId","name","removeClass","val","description","getPlainPagesList","push","image","p","renderSiteMap","html","api","getSiteMap","then","selected","filter","off","rerenderSiteMap","toLowerCase","indexOf","render","options","appId","portalName","appName","fmType","onClose","files","RSTFileManager","getFiles","icon","path","show","hide","open","document","toggleClass","initAddInternalPage","custom","removeAttr","setAllValid","fillInternalPageData","trim","internal","validateInternalPage","selector","requiredFilled","validateRequiredValues","internalPage","suitableLengths","validateValuesLength","isValid","addInternalPage","newPage","map","groups","group","dialog","settings","init","add","fn","fnAddInternalPage","each","index","elem"],"mappings":"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","file":"../../sideNav/add-internal-page.js","sourcesContent":["/* global $, RSTFileManager */\r\n/* eslint no-param-reassign: 0 */\r\n/* eslint no-use-before-define: 0 */\r\n/* eslint no-new: 0 */\r\n(() => {\r\n    function AddInternalPage($elem) {\r\n        this.$elem = $elem;\r\n\r\n        const that = this;\r\n        const gostValidation = window.gostValidation;\r\n        const $siteMap = $elem.find('.js-pageSelect .dropdown__menu > div');\r\n        const $pageName = $elem.find('.js-internalPageName');\r\n        const $pageDesc = $elem.find('.js-internalPageDescription');\r\n        const $pageSelect = $elem.find('.js-pageSelect');\r\n        const $pageImg = $elem.find('.js-internalPageImg');\r\n        const $pageImgPlaceholder = $elem.find('.icon-selector__img-empty');\r\n        const $pageImgSelect = $elem.find('.js-imagesSelect');\r\n        const siteMapList = '<ul class=\"dropdown__list js-map-list\"></ul>';\r\n        const siteMapItem = '<li class=\"dropdown__item\"><span class=\"page-select-arrow\"></span><a href=\"javascript:void(0)\"></a></li>';\r\n        const sideNav = window[`sideNav${that.$elem.closest('[data-appId]').attr('data-appId')}`];\r\n\r\n        let savedInternalPage = null;\r\n        let savedPages = null;\r\n        let savedPlainPages = [];\r\n        let savedUri = null;\r\n        let savedNodeId = null;\r\n        let savedPageName = null;\r\n        let savedImage = null;\r\n\r\n        const renderPages = (container, pages) => {\r\n            const listTemplate = $(siteMapList).clone();\r\n            pages.forEach(page => {\r\n                renderPage(listTemplate, page);\r\n            });\r\n            container.append(listTemplate);\r\n        };\r\n\r\n        const renderPage = (container, page) => {\r\n            const itemTempalte = $(siteMapItem).clone();\r\n            itemTempalte.find('a').text(page.displayName).on('click', () => selectPage(page));\r\n            if (page.pages && page.pages.length > 0) {\r\n                renderPages(itemTempalte, page.pages);\r\n                itemTempalte.addClass('has-pages');\r\n            }\r\n            container.append(itemTempalte);\r\n        };\r\n\r\n        const selectPage = page => {\r\n            savedUri = page.uri;\r\n            savedNodeId = page.nodeId;\r\n            savedPageName = page.name;\r\n            $pageSelect.find('.dropdown__button').text(page.displayName);\r\n            $pageSelect.removeClass('active');\r\n            $pageName.val(page.displayName);\r\n            $pageDesc.val(page.description);\r\n        };\r\n\r\n        const getPlainPagesList = page => {\r\n            if (page.name) {\r\n                savedPlainPages.push({\r\n                    name: page.name,\r\n                    displayName: page.displayName,\r\n                    nodeId: page.nodeId,\r\n                    uri: page.uri,\r\n                    image: page.image,\r\n                });\r\n            }\r\n            if (page.pages) {\r\n                page.pages.forEach(p => getPlainPagesList(p));\r\n            }\r\n        };\r\n\r\n        const renderSiteMap = () => {\r\n            $siteMap.html('');\r\n            sideNav.api.getSiteMap(sideNav.nodeId).then(pages => {\r\n                savedPages = pages;\r\n                getPlainPagesList({\r\n                    pages,\r\n                });\r\n                renderPages($siteMap, pages);\r\n                if (savedInternalPage) {\r\n                    const selected = savedPlainPages.filter(\r\n                        p => p.uri === savedInternalPage.uri)[0];\r\n                    if (selected) {\r\n                        savedUri = selected.uri;\r\n                        $pageSelect.find('.dropdown__button').text(selected.displayName);\r\n                    }\r\n                }\r\n            });\r\n\r\n            $pageSelect.find('.textbox').off('keyup').on('keyup', rerenderSiteMap);\r\n        };\r\n\r\n        const rerenderSiteMap = () => {\r\n            const filter = $pageSelect.find('.dropdown__menu .textbox').val();\r\n            $siteMap.html('');\r\n\r\n            if (filter.length > 0) {\r\n                renderPages($siteMap, savedPlainPages.filter(p =>\r\n                    p.displayName.toLowerCase().indexOf(filter.toLowerCase()) >= 0));\r\n            } else {\r\n                renderPages($siteMap, savedPages);\r\n            }\r\n        };\r\n\r\n        const render = () => {\r\n            const options = {\r\n                appId: sideNav.appId,\r\n                portalName: 'gost',\r\n                appName: 'IconStore',\r\n                fmType: 'icons',\r\n                onClose() {\r\n                    const files = RSTFileManager.getFiles();\r\n                    const icon = files[0];\r\n                    if (icon) {\r\n                        $pageImg.attr('src', icon.path);\r\n                        $pageImg.show();\r\n                        $pageImgPlaceholder.hide();\r\n                        savedImage = icon.path;\r\n                    }\r\n                },\r\n            };\r\n\r\n            $pageImgSelect.off('click');\r\n            $pageImgSelect.on('click', () => {\r\n                RSTFileManager.open(options);\r\n            });\r\n            $(document).on('click', '.page-select-arrow', function () {\r\n                $(this).closest('.dropdown__item').toggleClass('expand');\r\n            });\r\n\r\n            renderSiteMap();\r\n        };\r\n\r\n        const initAddInternalPage = page => {\r\n            savedUri = null;\r\n            savedPageName = null;\r\n            savedImage = null;\r\n            savedNodeId = null;\r\n            savedPages = null;\r\n            savedPlainPages = [];\r\n\r\n            if (page) {\r\n                $pageName.val(page.displayName);\r\n                $pageDesc.val(page.description);\r\n                if (!page.custom) {\r\n                    $pageName.attr('disabled', 'disabled');\r\n                    $pageSelect.find('.dropdown__button').attr('disabled', 'disabled');\r\n                } else {\r\n                    $pageName.removeAttr('disabled');\r\n                    $pageSelect.find('.dropdown__button').removeAttr('disabled');\r\n                }\r\n                $pageSelect.find('.dropdown__button').text(page.displayName);\r\n                savedInternalPage = page;\r\n                savedUri = page.uri;\r\n                savedPageName = page.name;\r\n                savedImage = page.image;\r\n                savedNodeId = page.nodeId;\r\n                $pageImg.attr('src', page.image);\r\n                $pageImg.show();\r\n                $pageImgPlaceholder.hide();\r\n            } else {\r\n                savedInternalPage = null;\r\n                $pageName.val('');\r\n                $pageDesc.val('');\r\n                $pageName.removeAttr('disabled');\r\n                $pageSelect.find('.dropdown__button').removeAttr('disabled');\r\n                $pageSelect.find('.dropdown__button').text('*Выбор из страниц карты сайта*');\r\n                $pageImg.attr('src', '');\r\n                $pageImg.hide();\r\n                $pageImgPlaceholder.show();\r\n            }\r\n\r\n            render();\r\n            gostValidation.setAllValid();\r\n        };\r\n\r\n        const fillInternalPageData = () => {\r\n            const displayName = $pageName.val().trim();\r\n            const description = $pageDesc.val().trim();\r\n\r\n            return {\r\n                name: savedPageName,\r\n                displayName,\r\n                description,\r\n                internal: true,\r\n                image: savedImage,\r\n                uri: savedUri,\r\n                nodeId: savedNodeId,\r\n                custom: savedInternalPage ? savedInternalPage.custom : true,\r\n            };\r\n        };\r\n\r\n        const validateInternalPage = internalPage => {\r\n            const selector = `[data-appId = \"${that.$elem.closest('[data-appId]').attr('data-appId')}\"] .js-sideNavAddInternalPage`;\r\n            const requiredFilled = gostValidation.validateRequiredValues(internalPage, selector);\r\n            const suitableLengths = gostValidation.validateValuesLength(internalPage, selector);\r\n            const isValid = requiredFilled && suitableLengths;\r\n            return isValid;\r\n        };\r\n\r\n        const addInternalPage = () => {\r\n            const newPage = fillInternalPageData();\r\n            const isValid = validateInternalPage(newPage);\r\n\r\n            if (isValid) {\r\n                if (savedInternalPage) {\r\n                    sideNav.pages = sideNav.pages.map(page => {\r\n                        if (page !== savedInternalPage) return page;\r\n\r\n                        return newPage;\r\n                    });\r\n\r\n                    sideNav.groups.forEach(group => {\r\n                        group.pages = group.pages.map(page => {\r\n                            if (page !== savedInternalPage) return page;\r\n\r\n                            return newPage;\r\n                        });\r\n                    });\r\n                } else {\r\n                    sideNav.pages.push(newPage);\r\n                }\r\n\r\n                that.$elem.dialog('close');\r\n                sideNav.settings.render();\r\n            }\r\n        };\r\n        this.init = () => {\r\n            sideNav.addInternalPage = {\r\n                init: initAddInternalPage,\r\n                add: addInternalPage,\r\n                render,\r\n            };\r\n        };\r\n\r\n        this.init();\r\n    }\r\n\r\n    $.fn.fnAddInternalPage = function () {\r\n        $(this).each((index, elem) => {\r\n            new AddInternalPage($(elem));\r\n        });\r\n    };\r\n\r\n    $('[data-appId]').each(function () {\r\n        if (!window[`sideNav${$(this).attr('data-appId')}`]) return;\r\n\r\n        $(this).find('.js-sideNavAddInternalPage').fnAddInternalPage();\r\n    });\r\n})();\r\n\r\n"]}